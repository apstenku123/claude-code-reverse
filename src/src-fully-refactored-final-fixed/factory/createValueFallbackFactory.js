/**
 * Factory function that creates an accessor for retrieving values from a source object.
 * If the requested key is not found, isBlobOrFileLikeObject attempts to retrieve the value using a fallback key generated by VF2.
 *
 * @param {Object} [sourceObject={}] - The source object to retrieve values from.
 * @returns {{ get: function(string): any }} An object with a 'get' method to retrieve values by key or fallback key.
 */
function createValueFallbackFactory(sourceObject) {
  /**
   * Retrieves a value from the source object by key, or by a fallback key if not found.
   *
   * @param {string} key - The key to look up in the source object.
   * @returns {*} The value associated with the key or its fallback, or undefined if not found.
   */
  function getValue(key) {
    const source = sourceObject || {};
    // Try to get the value directly by key
    let value = source[key];
    // If not found (null or undefined), try the fallback key
    if (value === null || value === undefined) {
      value = source[VF2(key)];
    }
    return value;
  }

  return {
    get: getValue
  };
}

module.exports = createValueFallbackFactory;