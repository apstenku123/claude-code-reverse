/**
 * Assigns a unique, incrementing key to an object based on a normalized identifier derived from the input source.
 * The identifier is generated by the external function V5, normalized to lowercase, and then passed to assignUniqueKeyToObject (Eq).
 *
 * @param {any} source - The input value from which to derive the unique identifier.
 * @returns {any} The unique key assigned to the object, as returned by assignUniqueKeyToObject.
 */
function assignUniqueKeyFromNormalizedIdentifier(source) {
  // Generate an identifier from the source using V5, then normalize to lowercase
  const normalizedIdentifier = V5(source).toLowerCase();
  // Assign and return a unique key using the normalized identifier
  return assignUniqueKeyToObject(normalizedIdentifier);
}

module.exports = assignUniqueKeyFromNormalizedIdentifier;