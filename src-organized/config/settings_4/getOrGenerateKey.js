/**
 * Retrieves a key based on the provided configuration, or generates a default key if no configuration is given.
 *
 * If a configuration object is provided, isBlobOrFileLikeObject delegates to the generateInteractionHash function to process the source observable, configuration, and subscription.
 * If no configuration is provided, isBlobOrFileLikeObject generates a default key using the GCA._DJB2 hashing function.
 *
 * @param {string} sourceObservable - The identifier or name of the source observable.
 * @param {object|null} config - The configuration object for processing the observable. If null or undefined, a default key is generated.
 * @param {object} subscription - The subscription object associated with the observable.
 * @returns {string} The resulting key, either processed by generateInteractionHash or generated by GCA._DJB2.
 */
function getOrGenerateKey(sourceObservable, config, subscription) {
  // If a configuration is provided, process using generateInteractionHash
  if (config) {
    return generateInteractionHash(sourceObservable, config, subscription);
  }
  // Otherwise, generate a default key using the source observable identifier
  return GCA._DJB2(`k:${sourceObservable}`);
}

module.exports = getOrGenerateKey;